#include <Windows.h>
#include <stdio.h>

int main(int argc, char** argv)
{
	TCHAR buffe[FILELENGTH] = { 0, };

	SHELLEXECUTEINFOA si;
	ZeroMemory(&si, sizeof(SHELLEXECUTEINFO));

	si.cbSize = sizeof(SHELLEXECUTEINFO);
	si.hwnd = NULL;
	si.fMask = SEE_MASK_FLAG_DDEWAIT | SEE_MASK_FLAG_NO_UI;
	si.lpVerb = TEXT("runas");
	si.lpFile = TEXT("notepad.exe");
	si.lpParameters = NULL;
	si.nShow = SW_SHOWNORMAL;
	si.lpDirectory = NULL;

	ShellExecuteEx(&si);

	WaitForSingleObject(si.hProcess, INFINITE);

	return 0;
}